<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>점심 메뉴 상세</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body { font-family: "Pretendard", Arial, sans-serif; background: #f9f9fb; padding: 20px; }
        .container { max-width: 600px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
        h1 { text-align: center; margin-bottom: 20px; }
        .detail-item { margin-bottom: 10px; }
        .back-btn { margin-top: 20px; padding: 8px 15px; background: #4CAF50; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
<div class="container">
    <h1>메뉴 상세 정보</h1>
    <div class="detail-item"><strong>이름:</strong> <span id="name"></span></div>
    <div class="detail-item"><strong>종류:</strong> <span id="category"></span></div>
    <div class="detail-item"><strong>가격:</strong> <span id="price"></span> 원</div>
    <div class="detail-item"><strong>맵기 단계:</strong> <span id="spicyLevel"></span></div>
    <div class="detail-item"><strong>추천 기분:</strong> <span id="mood"></span></div>
    <button class="back-btn" onclick="history.back()">목록으로 돌아가기</button>
</div>

<script>
    const API_URL = 'http://localhost:3000/lunch-menu';

    // URL에서 id 가져오기
    const params = new URLSearchParams(window.location.search);
    const id = params.get('id');

    async function fetchMenu() {
      try {
        const res = await fetch(`${API_URL}/${id}`);
        if (!res.ok) throw new Error('메뉴 조회 실패');
        const menu = await res.json();

        // HTML에 데이터 표시
        document.getElementById('name').textContent = menu.name;
        document.getElementById('category').textContent = menu.category;
        document.getElementById('price').textContent = menu.price;
        document.getElementById('spicyLevel').textContent = menu.spicyLevel;
        document.getElementById('mood').textContent = menu.mood.join(', ');
      } catch (err) {
        alert(err.message);
      }
    }

    fetchMenu();
</script>
</body>
</html>
